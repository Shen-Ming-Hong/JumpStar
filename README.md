# 跳跳星 (JumpStar)

> **版本**: v2.0.0 | **狀態**: ✅ 可用於實際測試

## 專案簡介

跳跳星是一個基於 Arduino UNO 的互動式跳躍遊戲裝置，支援紅外線或超音波感測器偵測玩家跳躍，並使用 WS2813 LED 燈條（300 顆）提供即時視覺回饋。遊戲採用連續跳躍計數模式，鼓勵玩家持續運動，LED 燈光隨跳躍次數累積而增加，超過閒置時間則會閃爍警告後重置。

## 硬體需求

-   **主控板**: Arduino UNO
-   **LED 燈條**: WS2813 LED 燈條（300 顆，支援備援訊號）
-   **電源供應**: 5V 10A 以上電源供應器（推薦）
-   **感測器**（擇一）:
    -   🔴 紅外線感測器（短距離，約 8cm）
    -   🔵 超音波感測器 HC-SR04（可調距離，建議 30cm）

## 功能特色

-   🎯 **雙感測器支援**：可選擇紅外線或超音波，一鍵切換
-   ⚡ **即時跳躍偵測**：精確捕捉離地和著地時刻
-   � **連續計數模式**：累積跳躍次數，鼓勵持續運動
-   �🌈 **動態漸變燈效**：綠 → 黃 → 紅平滑過渡，清晰進度回饋
-   📊 **智慧比例分配**：自動適應不同長度燈條（30/60/100 顆）
-   ⏰ **閒置警告機制**：5 秒無跳躍閃爍提醒，鼓勵持續挑戰
-   💾 **中斷保護**：閃爍期間可救回進度，不會輕易失去成果
-   🔧 **靈活配置**：可調整偵測距離、跳躍次數、逾時時間等參數

## 工作原理

### 🎮 遊戲模式：連續跳躍計數

1. **偵測跳躍**：感測器持續監測玩家位置（紅外線或超音波）
2. **累積計數**：每次完成跳躍（離地 → 著地）計數 +1
3. **即時回饋**：LED 燈條按比例點亮（20 次跳躍達滿燈）
4. **持續挑戰**：LED 保持顯示當前累積進度
5. **閒置警告**：5 秒無跳躍 → 閃爍 5 次當前進度
6. **自動重置**：閃爍結束後清空計數，重新開始
7. **中斷救援**：閃爍期間若繼續跳躍，保留進度並中斷閃爍

### 🎯 設計理念

-   **固定挑戰次數**：無論燈條長度（60/100/300 顆），都需跳躍 20 次達滿燈
-   **自動比例分配**：LED 數量自動按燈條長度比例分配
-   **大量 LED 支援**：當前配置 300 顆，可展示更細緻的進度效果
-   **符合體能標準**：參考國小學生體適能資料設定難度
-   **視覺漸變效果**：綠 → 黃 → 紅平滑過渡，提供清晰進度回饋

## 開發環境

-   PlatformIO
-   Arduino Framework

## 專案狀態

✅ **核心功能完成** - 基礎跳躍偵測與 LED 回饋系統已實作

## 已完成功能

### v2.0.0（當前版本）

-   [x] 🎮 **連續跳躍計數系統**：累積跳躍次數，取代滯空時間計算
-   [x] 📊 **智慧比例分配**：固定 20 次跳躍達滿燈，自動適應燈條長度
-   [x] ⏰ **閒置警告機制**：5 秒無跳躍觸發閃爍，鼓勵持續運動
-   [x] 💾 **閃爍中斷保護**：閃爍期間可繼續跳躍，保留累積進度
-   [x] 🎯 **體能標準設定**：參考國小學生體適能資料調整難度
-   [x] 📈 **即時進度顯示**：持續顯示累積成果，不自動清空

### v1.2.0

-   [x] 🎯 **雙感測器支援**：紅外線 + 超音波可切換
-   [x] 🌈 **動態漸變燈效**：每顆 LED 獨立色彩，平滑過渡
-   [x] 🔧 **超音波距離偵測**：可調整閾值（預設 30cm）
-   [x] 📡 **即時監控輸出**：顯示感測器狀態與距離值

### v1.1.0

-   [x] 紅外線感測器初始化與校準
-   [x] 跳躍偵測邏輯實作（含訊號去彈跳）
-   [x] 計時器功能開發（使用 millis() 非阻塞式計時）
-   [x] WS2812B 燈條控制（FastLED 函式庫）
-   [x] LED 開機測試動畫（彩虹效果）

## 待開發功能

-   [ ] 實際硬體測試與參數調校
-   [ ] 多種遊戲模式（計時挑戰、限時模式、PK 模式）
-   [ ] 最高紀錄保存與顯示
-   [ ] 難度等級選擇（不同跳躍次數要求）
-   [ ] 外部按鈕控制（模式切換、重置）
-   [ ] 音效輸出（蜂鳴器或 MP3 模組）
-   [ ] 無線連接（藍牙/WiFi 數據上傳）

## 📚 文件導覽

### 新手入門

-   **[快速入門指南](QUICK_START.md)** - � 5 分鐘快速上手
-   **[感測器配置指南](SENSOR_CONFIGURATION.md)** - 🎯 紅外線/超音波切換與調校
-   **[硬體安裝指南](HARDWARE_SETUP.md)** - 🔧 詳細的硬體連接與測試步驟
-   **[測試指南](TESTING_GUIDE.md)** - 🧪 完整的測試步驟與驗證

### 進階資料

-   **[程式碼說明文件](CODE_DOCUMENTATION.md)** - 💻 深入了解程式架構與客製化
-   **[變更日誌](CHANGELOG.md)** - 📝 版本更新記錄
-   **[專案總結](PROJECT_SUMMARY.md)** - 📊 完整的專案開發總結與統計
-   **[配置範例](examples/config_examples.cpp)** - 🎨 各種配置與擴充範例

## 檔案結構

```
JumpStar/
├── src/
│   └── main.cpp                      # 主程式（v1.2.0，雙感測器支援）
├── include/                          # 標頭檔案
├── lib/                              # 專案相關函式庫
├── test/                             # 測試程式
├── examples/
│   └── config_examples.cpp           # 配置範例
├── .github/
│   ├── copilot-instructions.md       # AI 編碼指引
│   └── prompts/
│       └── plan.prompt.md            # 開發計畫
├── platformio.ini                    # PlatformIO 設定檔
├── README.md                         # 本文件
├── QUICK_START.md                    # 快速入門
├── SENSOR_CONFIGURATION.md           # 🆕 感測器配置指南
├── HARDWARE_SETUP.md                 # 硬體指南
├── CODE_DOCUMENTATION.md             # 程式碼文件
├── TESTING_GUIDE.md                  # 測試指南
├── CHANGELOG.md                      # 變更日誌
├── CHANGELOG_v1.2.0.md               # 🆕 v1.2.0 詳細更新說明
├── VERSION_SUMMARY_v1.2.0.md         # 🆕 v1.2.0 版本總結
├── UPDATE_v1.1.0.md                  # v1.1.0 更新說明
├── PROJECT_SUMMARY.md                # 專案總結
└── LICENSE                           # MIT License
```

## 授權

本專案採用 [MIT License](LICENSE)。

## 作者

待補充
